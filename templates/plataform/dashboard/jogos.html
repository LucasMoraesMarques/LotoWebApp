<!--
=========================================================
* Soft UI Dashboard - v1.0.3
=========================================================

* Product Page: https://www.creative-tim.com/product/soft-ui-dashboard
* Copyright 2021 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://www.creative-tim.com/license)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->

{% extends 'plataform/dashboard/base.html' %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap5.min.css">
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
  <!--i class="fa fa-bars" id="menu"></i-->

  <div class="nav-wrapper position-relative end-0">
    <!-- Tabs Nav -->
    <ul class="nav nav-pills nav-fill p-1" role="tablist">
      <li class="nav-item">
        <a class="nav-link mb-0 px-0 py-1 active" data-bs-toggle="tab" href="#geradores-tab" data-bs-target="#geradores-tab"
           role="tab" aria-controls="preview" aria-selected="true">
          <i class="fas fa-tools"></i> Geradores
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link mb-0 px-0 py-1" data-bs-toggle="tab" href="#colecoes-tab" data-bs-target="#colecoes-tab" role="tab"
           aria-controls="code" aria-selected="false">
          <i class="fas fa-list-ol"></i> Coleções
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link mb-0 px-0 py-1" data-bs-toggle="tab" href="#resultados-tab" data-bs-target="#resultados-tab"
           role="tab" aria-controls="code" aria-selected="false">
          <i class="fas fa-tasks"></i> Resultados
        </a>
      </li>
    </ul>
    <!-- End Tabs Nav -->

    <!-- Content Section -->
    <div class="tab-content" id="nav-tabContent">
      <!-- Generators Section -->
      <div class="tab-pane fade show active" id="geradores-tab" role="tabpanel" aria-labelledby="nav-geradores-tab">
        <!-- Info Section -->
        <div class="row mt-4">
          <div class="col-lg-7 mb-lg-0 mb-4">
            <div class="card">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col-lg-6">
                    <div class="d-flex flex-column h-100">
                      <h5 class="font-weight-bolder">Nossos Geradores</h5>
                      <p>
                        Oferecemos dois tipos de geradores de jogos randômicos:
                      <ul>
                        <li>Simples</li>
                        <li>Inteligente</li>
                      </ul>
                      Escolha com sabedoria!
                      </p>
                      <a class="text-body text-sm font-weight-bold mb-0 icon-move-right mt-auto" href="javascript:;">
                        Leia sobre
                        <i class="fas fa-arrow-right text-sm ms-1" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                  <div class="col-lg-5 ms-auto text-center mt-5 mt-lg-0">
                    <div class="border-radius-lg h-100">
                      <img src="{% static 'assets/img/shapes/waves-white.svg' %}"
                           class="position-absolute h-100 w-50 top-0 d-lg-block d-none" alt="waves">
                      <div class="position-relative d-flex align-items-center justify-content-center h-100">
                        <img class="w-100 position-relative z-index-2 pt-4"
                             src="{% static 'assets/img/gen-options.svg' %}" alt="Pessoa escolhendo entre opções">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-5">
            <div class="card h-100">
              <div class="overflow-hidden position-relative border-radius-lg h-100">
                <div class="card-body position-relative z-index-1 d-flex flex-column h-100 p-3">
                  <h5 class="font-weight-bolder">Loterias Disponíveis</h5>
                  <p class="text-body">Nossa plataforma suporta as seguintes modalidades da Loteria Federal.</p>
                  <div class="d-flex flex-row w-100 p-3">
                    {% for type in lototypes %}
                    <img src="{% static 'assets/img/loterias/logos/'|add:type.0|add:'.png' %}" alt="Logo da {{type.1}}"
                         class="btn-tooltip mx-3" data-bs-toggle="tooltip" data-bs-placement="top"
                         title="{{ type.1 }}" data-container="body" data-animation="true"
                         style="width:50px; height:50px;">
                    {% endfor %}
                  </div>
                  <a class="text-body text-sm font-weight-bold mb-0 icon-move-right mt-auto" href="javascript:;">
                    Leia sobre
                    <i class="fas fa-arrow-right text-sm ms-1" aria-hidden="true"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- End Info Section -->

        <!-- Generator Section -->
        <div class="row mt-4">
          <div class="col-lg- mb-lg-0 mb-4">
            <div class="card z-index-2">
              <div class="card-body p-3">
                <form action="{% url 'lottery:jogos' %}" method="POST" id="gerador-form">
                  {% csrf_token %}
                  <div class="row">
                    <div class="col-lg-7">
                      <div class="d-flex flex-column h-100">
                        <h5 class="font-weight-bolder">Geração de Jogos Randômicos</h5>
                        <p>Escolha o gerador, a loteria e seus respectivos parâmetros</p>
                        <h6 class="font-weight-bolder">Geradores</h6>
                        <div class="d-flex flex-row h-100" id="generators">
                          <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="generator" value="simple" required
                                   id="simple" onchange="handleGeneratorSelect(this)">
                            <label class="custom-control-label" for="simple">Simples</label>
                          </div>
                          <div class="form-check ms-5">
                            <input class="form-check-input" type="radio" name="generator" value="smart" id="smart"
                                   required onchange="handleGeneratorSelect(this)">
                            <label class="custom-control-label" for="smart">Inteligente</label>
                          </div>
                        </div>
                        <h6 class="font-weight-bolder">Modalidade</h6>
                        <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                          {% for type in lototypes %}
                          <input type="radio" class="btn-check" name="lototype" id="modalidade-{{type.0}}"
                                 value="{{type.0}}"
                                 autocomplete="off" required>
                          <label class="btn btn-outline-primary" for="modalidade-{{type.0}}">{{type.1}}</label>
                          {% endfor %}
                        </div>

                        <div class="form-group">
                          <label for="gameset-name" class="form-control-label"><h6 class="font-weight-bolder">Nome
                            do Jogo</h6></label>
                          <input class="form-control" type="text" name="gameset-name" value="" id="gameset-name" required>
                        </div>

                        <div class="form-group">
                          <label for="collection-gen-select" class="form-control-label"><h6 class="font-weight-bolder">
                            Coleção</h6></label>
                          <div class="input-group mb-3">
                            <select class="form-control" id="collection-gen-select" aria-describedby="add-collection"
                                    name="collection" required>
                              <option>Jogos Bolão</option>
                              <option>Jogos 2</option>
                              <option>Teste</option>
                            </select>
                            <button class="btn btn-outline-primary mb-0" type="button" id="add-collection">Adicionar
                              nova
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-5 ms-auto text-center mt-5 mt-lg-0">
                      <div class="border-radius-lg h-100">
                        <div class="position-relative d-flex align-items-center justify-content-center h-100">
                          <img class="w-100 position-relative z-index-2 pt-4"
                               src="{% static 'assets/img/gen-options2.svg' %}"
                               alt="Pessoa habilitando botões do tipo switch">
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col">
                      <h6 class="font-weight-bolder">Escolha a quantia de números por jogo</h6>
                      <div class="d-flex flex-row h-100" id="check-nPlayed">
                        {% for value in nPlayed %}
                        <div class="form-check" id="check-played">
                          <input class="form-check-input mx-2" type="radio" id="check-played-{{value}}" name="nPlayed"
                                 value="{{value}}" required>
                          <label class="custom-control-label fs-6" for="check-played-{{value}}">{{value}}</label>
                        </div>
                        {% endfor %}
                      </div>
                    </div>
                    <div class="row mt-3 justify-content-center" id="grid-fixed-removed">
                      <div class="col-md-6">
                        <h6 class="font-weight-bolder">Escolha os números a serem fixados</h6>
                        <div class="row row-cols-{{cols}} gx-0 px-0" id="grid-fixed">
                          {% for value in nFixed %}
                          <div class="col">
                            <input type="checkbox" class="btn-check" id="check-fixed-{{value}}"
                                   name="nFixed" value="{{value}}" autocomplete="off"
                                   onchange="mapNumbers(this.id, 'fixed')">
                            <label class="btn btn-outline-success mb-2 disabled" for="check-fixed-{{value}}"
                                   style="padding:3px 3px; width:40px; height:40px; font-size:20px;"
                                   id="label-check-fixed-{{value}}">{{value}}</label>
                          </div>
                          {% endfor %}
                        </div>
                      </div>
                      <div class="col-md-6">
                        <h6 class="font-weight-bolder">Escolha os números a serem removidos</h6>
                        <div class="row row-cols-{{cols}} gx-0 px-0" id="grid-removed">
                          {% for value in nRemoved %}
                          <div class="col">
                            <input type="checkbox" class="btn-check" id="check-removed-{{value}}"
                                   name="nRemoved" value="{{value}}" autocomplete="off"
                                   onchange="mapNumbers(this.id, 'removed')">
                            <label class="btn btn-outline-danger mb-2 disabled" for="check-removed-{{value}}"
                                   style="padding:3px 3px; width:40px; height:40px; font-size:20px;"
                                   id="label-check-removed-{{value}}">{{value}}</label><br>
                          </div>
                          {% endfor %}
                        </div>
                      </div>
                    </div>
                    <div class="row" id="smart-gen-options" style="display:none">
                      <div class="col-lg-6 ms-auto text-center mt-5 mt-lg-0">
                        <div class="border-radius-lg h-100">
                          <div class="position-relative d-flex align-items-center justify-content-center h-100">
                            <img class="w-100 position-relative z-index-2 pt-4"
                                 src="{% static 'assets/img/gen-options3.svg' %}"
                                 alt="Mulher posicionando botões do tipo slider">
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="form-group">
                          <label for="prime-numbers" class="form-control-label mt-2"><h6 class="font-weight-bolder">
                            Número de Primos</h6></label>
                          <input class="form-control d-inline" type="number" name="nPrimes" value="" id="prime-numbers">
                          <label for="max-seq" class="form-control-label mt-2"><h6
                              class="font-weight-bolder">Máxima Sequência</h6></label>
                          <input class="form-control d-inline" type="number" value="" name="max-seq" id="max-seq">
                          <label for="min-seq" class="form-control-label mt-2"><h6
                              class="font-weight-bolder">Mínima Sequência</h6></label>
                          <input class="form-control d-inline" type="number" value="" name="min-seq" id="min-seq">
                          <label for="max-gap" class="form-control-label mt-2"><h6
                              class="font-weight-bolder">Máximo Salto</h6></label>
                          <input class="form-control d-inline" type="number" value="" name="max-gap" id="max-gap">
                          <h6 class="font-weight-bolder mt-2">Par ou Ímpar</h6>
                          <div class="d-flex flex-row h-100">
                            <div class="form-check mb-3">
                              <input class="form-check-input" type="radio" name="isOdd" value="False" id="even">
                              <label class="custom-control-label" for="even">Par</label>
                            </div>
                            <div class="form-check ms-5">
                              <input class="form-check-input" type="radio" name="isOdd" value="True" id="odd">
                              <label class="custom-control-label" for="odd">Ímpar</label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <button type="button" class="btn btn-primary mt-2" id="calc-combs-btn">Calcular Combinações</button>
                  <div class="row" id="nJogos-input" style="display:none">
                    <div class="col form-group" >
                    <label for="nJogos" class="form-control-label mt-2"><h6 class="font-weight-bolder">
                      Número de Jogos</h6></label>
                    <p id="nCombs-span"></p>
                    <input class="form-control d-inline" type="number" name="nJogos" value="" id="nJogos">
                    <button type="submit" class="btn btn-primary mt-2">Gerar Jogos</button>
                  </div>
                  <div class="col-lg-3 ms-auto text-center mt-5 mt-lg-0">
                      <div class="border-radius-lg h-100">
                        <div class="position-relative d-flex align-items-center justify-content-center h-100">
                          <img class="w-100 position-relative z-index-2 pt-4"
                               src="{% static 'assets/img/nJogos-input.svg' %}"
                               alt="Pessoa usando uma calculadora">
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <!-- End Generator Section -->

        <!-- Game Set Table Section -->
        <div class="row my-4">
          <div class="col">
            <div class="card">
              <div class="card-header pb-0 d-flex flex-row justify-content-between align-items-center">
                <div class="d-inline">
                  <h5 class="font-weight-bolder">Conjunto de Jogos</h5>
                  <p class="text-sm">Clique em info para ver detalhes de cada conjunto e/ou jogo na coleção</p>
                  <p class="text-sm">
                    <i class="fa fa-search-plus text-success" aria-hidden="true"></i>
                    50 conjuntos encontrados
                  </p>
                </div>
              </div>
              <div class="card-body px-2 pt-0 pb-2">
                <div class="table-responsive p-0">
                  <table class="table align-items-center mb-0 display" id="gameset-table">
                    <thead>
                    <tr>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Loteria</th>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Coleção</th>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Nome</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Nº de
                        Jogos
                      </th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
                        Ativo
                      </th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Info
                      </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                      <td>
                        <div class="d-flex px-2 py-1">
                          <img src="{% static 'assets/img/loterias/logos/lotofacil.png' %}" alt="Logo da Lotofácil"
                               class="btn-tooltip text-info text-gradient" data-bs-toggle="tooltip"
                               data-bs-placement="top"
                               title="Logo da Lotofácil" data-container="body" data-animation="true">
                        </div>
                        <p hidden>Lotofacil</p>
                      </td>
                      <td>
                        <p class="text-xs font-weight-bold mb-0">Coleção 1</p>
                      </td>
                      <td>
                        <p class="text-xs font-weight-bold mb-0">Jogo 1</p>
                      </td>
                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm bg-gradient-primary">50</span>
                      </td>
                      <td class="align-middle text-center">
                        <span class="badge badge-sm bg-gradient-success">SIM</span>
                      </td>
                      <td class="align-middle text-center">
                        <a>
                          <span class="btn-inner--icon"><i class="fa fa-info-circle" style="font-size:20px"></i></span>
                        </a>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <div class="d-flex px-2 py-1">
                          <img src="{% static 'assets/img/loterias/logos/megasena.png' %}" alt="Logo da Lotofácil"
                               class="btn-tooltip text-info text-gradient" data-bs-toggle="tooltip"
                               data-bs-placement="top"
                               title="Logo da Lotofácil" data-container="body" data-animation="true">
                        </div>
                        <p hidden>Megasena</p>
                      </td>
                      <td>
                        <p class="text-xs font-weight-bold mb-0">Bolão 1</p>
                      </td>
                      <td>
                        <p class="text-xs font-weight-bold mb-0">Jogo 2</p>
                      </td>
                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm bg-gradient-primary">100</span>
                      </td>
                      <td class="align-middle text-center">
                        <span class="badge badge-sm bg-gradient-danger">SIM</span>
                      </td>
                      <td class="align-middle text-center">
                        <a href="http://localhost:8000/jogos/conjuntos/5665">
                          <span class="btn-inner--icon"><i class="fa fa-info-circle" style="font-size:20px"></i></span>
                        </a>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <div class="d-flex px-2 py-1">
                          <img src="{% static 'assets/img/loterias/logos/diadesorte.png' %}" alt="Logo da Lotofácil"
                               class="btn-tooltip text-info text-gradient" data-bs-toggle="tooltip"
                               data-bs-placement="top"
                               title="Logo da Lotofácil" data-container="body" data-animation="true">
                        </div>
                        <p hidden>Dia de Sorte</p>
                      </td>
                      <td>
                        <p class="text-xs font-weight-bold mb-0">Bolão 2</p>
                      </td>
                      <td>
                        <p class="text-xs font-weight-bold mb-0">Jogo 1</p>
                      </td>
                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm bg-gradient-primary">30</span>
                      </td>
                      <td class="align-middle text-center">
                        <span class="badge badge-sm bg-gradient-success">NÃO</span>
                      </td>
                      <td class="align-middle text-center">
                        <a>
                          <span class="btn-inner--icon"><i class="fa fa-info-circle" style="font-size:20px"></i></span>
                        </a>
                      </td>
                    </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-3 col-md-6">
            <div class="card h-100">
              <div class="card-header pb-0">
                <h5 class="font-weight-bolder">Seus Conjuntos</h5>
                <p class="text-sm">
                  <i class="fa fa-arrow-up text-success" aria-hidden="true"></i>
                  Jogos do mês
                </p>
              </div>
              <div class="card-body p-3">
                {% for type in lototypes %}
                <div class="timeline timeline-one-side">
                  <div class="timeline-block mb-3">
                  <span class="timeline-step">
                    <img src="{% static 'assets/img/loterias/logos/'|add:type.0|add:'.png' %}" alt="Logo da {{type.1}}"
                         class="btn-tooltip text-info text-gradient" data-bs-toggle="tooltip" data-bs-placement="top"
                         title="{{ type.1 }}" data-container="body" data-animation="true">
                  </span>
                    <div class="timeline-content">
                      <h6 class="text-dark text-sm font-weight-bold mb-0"> Jogo 1 criado</h6>
                      <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">22 DEC 7:20 PM</p>
                    </div>
                  </div>
                </div>
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
        <!-- End Game Set Table Section -->
      </div>
      <!-- End Generators Section -->

      <!-- Collections Section -->
      <div class="tab-pane fade" id="colecoes-tab" role="tabpanel" aria-labelledby="nav-colecoes-tab">
        <!-- Info Section -->
        <div class="row mt-4">
          <div class="col-lg-7 mb-lg-0 mb-4">
            <div class="card">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col-lg-6">
                    <div class="d-flex flex-column h-100">
                      <h5 class="font-weight-bolder">Coleções de Jogos</h5>
                      <p>
                        Agrupe os seus conjuntos de jogos por coleções, seja por loterias, concursos ou bolões e
                        mantenha
                        tudo organizado
                      </p>
                      <a class="text-body text-sm font-weight-bold mb-0 icon-move-right mt-auto" href="javascript:;">
                        Leia sobre
                        <i class="fas fa-arrow-right text-sm ms-1" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                  <div class="col-lg-5 ms-auto text-center mt-5 mt-lg-0">
                    <div class="border-radius-lg h-100">
                      <img src="{% static 'assets/img/shapes/waves-white.svg' %}"
                           class="position-absolute h-100 w-50 top-0 d-lg-block d-none" alt="waves">
                      <div class="position-relative d-flex align-items-center justify-content-center h-100">
                        <img class="w-100 position-relative z-index-2 pt-4"
                             src="{% static 'assets/img/collection-add.svg' %}" alt="Arquivos com um ícone de adicionar">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-5">
            <div class="card h-100">
              <div class="card-body p-3">
                <h5 class="font-weight-bolder mb-2">Análise das Coleções</h5>
                <div class="row mb-2">
                  <div class="col-8">
                    <div class="numbers">
                      <p class="text-sm mb-0 text-capitalize font-weight-bold">Você possui</p>
                      <h5 class="font-weight-bolder mb-0">
                        20 coleções
                      </h5>
                    </div>
                  </div>
                  <div class="col-4 text-end">
                    <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                      <i class="ni ni-collection text-lg opacity-10" aria-hidden="true"></i>
                    </div>
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-8">
                    <div class="numbers">
                      <p class="text-sm mb-0 text-capitalize font-weight-bold">Que juntas somam </p>
                      <h5 class="font-weight-bolder mb-0">
                        100 conjuntos
                      </h5>
                    </div>
                  </div>
                  <div class="col-4 text-end">
                    <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                      <i class="ni ni-single-copy-04 text-lg opacity-10" aria-hidden="true"></i>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-8">
                    <div class="numbers">
                      <p class="text-sm mb-0 text-capitalize font-weight-bold">E</p>
                      <h5 class="font-weight-bolder mb-0">
                        5000 jogos
                      </h5>
                    </div>
                  </div>
                  <div class="col-4 text-end">
                    <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                      <i class="ni ni-tag text-lg opacity-10" aria-hidden="true"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- End Info Section -->

        <!-- Collections Table Section -->
        <div class="row my-4">
          <div class="col">
            <div class="card mb-4 p-3 d-flex">
              <div class="row">
                <div class="col">
                  <h5 class="font-weight-bolder">Adicione Coleções</h5>
                  <span class="text-sm">Importe arquivos em formato csv ou xlsx</span>
                  <form action="">
                    <div class="form-group">
                      <div class="custom-file mb-3">
                        <input type="file" class="form-control" id="customFile">
                      </div>
                      <div class="input-group mb-3">
                        <input type="text" placeholder="Nome da coleção" class="form-control"/>
                        <button class="btn btn-outline-primary mb-0" type="submit" id="add-collection2">Adicionar nova
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
                <div class="col">
                  <p class="text-center align-middle">
                    <i class="fa fa-info-circle fs-3 "></i>
                  </p>
                  <p>As coleções devem estar com os conjuntos de jogos separados em abas se for do tipo xlsx, ou em por
                    vírgulas se for csv. Veja os modelos abaixo:
                  <p class="text-center">
                    <a href=""><i class="fa fa-file-excel fs-2 mx-3"></i></a>
                    <a href=""><i class="fa fa-file-csv fs-2 mx-3"></i></a>
                  </p>
                  </p>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header pb-0 d-flex flex-row justify-content-between align-items-center">
                <div class="d-inline">
                  <h5 class="font-weight-bolder">Suas Coleções</h5>
                  <p class="text-sm">Clique em info para ver detalhes de cada conjunto e/ou jogo na coleção</p>
                </div>
              </div>
              <div class="card-body px-2 pt-0 pb-2">
                <div class="table-responsive p-0">
                  <table class="table align-items-center mb-0 display" id="collections-table">
                    <thead>
                    <tr>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder">Loteria</th>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder ps-2">Nome</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder">Nº de
                        Conjuntos
                      </th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder">Nº de
                        Jogos
                      </th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder">Info
                      </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                      <td>
                        <div class="d-flex px-2 py-1">
                          <img src="{% static 'assets/img/loterias/logos/lotofacil.png' %}" alt="Logo da Lotofácil"
                               class="btn-tooltip text-info text-gradient" data-bs-toggle="tooltip"
                               data-bs-placement="top"
                               title="Logo da Lotofácil" data-container="body" data-animation="true">
                        </div>
                        <p hidden>Lotofacil</p>
                      </td>
                      <td>
                        <p class="text-xs font-weight-bold mb-0">Bolão Fim de Ano</p>
                      </td>
                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm bg-gradient-primary">50</span>
                      </td>
                      <td class="align-middle text-center">
                        <span class="badge badge-sm bg-gradient-primary">50000</span>
                      </td>
                      <td class="align-middle text-center">
                        <a>
                          <span class="btn-inner--icon"><i class="fa fa-info-circle" style="font-size:20px"></i></span>
                        </a>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <div class="d-flex px-2 py-1">
                          <img src="{% static 'assets/img/loterias/logos/megasena.png' %}" alt="Logo da Lotofácil"
                               class="btn-tooltip text-info text-gradient" data-bs-toggle="tooltip"
                               data-bs-placement="top"
                               title="Logo da Lotofácil" data-container="body" data-animation="true">
                        </div>
                        <p hidden>Megasena</p>
                      </td>
                      <td>
                        <p class="text-xs font-weight-bold mb-0">Mega da Virada</p>
                      </td>
                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm bg-gradient-primary">20</span>
                      </td>
                      <td class="align-middle text-center">
                        <span class="badge badge-sm bg-gradient-primary">4000</span>
                      </td>
                      <td class="align-middle text-center">
                        <a>
                          <span class="btn-inner--icon"><i class="fa fa-info-circle" style="font-size:20px"></i></span>
                        </a>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <div class="d-flex px-2 py-1">
                          <img src="{% static 'assets/img/loterias/logos/diadesorte.png' %}" alt="Logo da Lotofácil"
                               class="btn-tooltip text-info text-gradient" data-bs-toggle="tooltip"
                               data-bs-placement="top"
                               title="Logo da Lotofácil" data-container="body" data-animation="true">
                        </div>
                        <p hidden>Dia de Sorte</p>
                      </td>
                      <td>
                        <p class="text-xs font-weight-bold mb-0">Coleção 1</p>
                      </td>
                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm bg-gradient-primary">5</span>
                      </td>
                      <td class="align-middle text-center">
                        <span class="badge badge-sm bg-gradient-primary">500</span>
                      </td>
                      <td class="align-middle text-center">
                        <a href="http://localhost:8000/jogos/colecoes/5665">
                          <span class="btn-inner--icon"><i class="fa fa-info-circle" style="font-size:20px"></i></span>
                        </a>
                      </td>
                    </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-3 col-md-6">
            <div class="card h-100">
              <div class="card-header pb-0">
                <h5 class="font-weight-bolder">Histórico</h5>
                <p class="text-sm">
                  Coleções do mês
                </p>
              </div>
              <div class="card-body p-3">
                {% for type in lototypes %}
                <div class="timeline timeline-one-side">
                  <div class="timeline-block mb-3">
                  <span class="timeline-step">
                    <img src="{% static 'assets/img/loterias/logos/'|add:type.0|add:'.png' %}" alt="Logo da {{type.1}}"
                         class="btn-tooltip text-info text-gradient" data-bs-toggle="tooltip" data-bs-placement="top"
                         title="{{ type.1 }}" data-container="body" data-animation="true">
                  </span>
                    <div class="timeline-content">
                      <h6 class="text-dark text-sm font-weight-bold mb-0"> Coleção 1 criada</h6>
                      <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">22 DEC 7:20 PM</p>
                    </div>
                  </div>
                </div>
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
        <!-- End Collections Table Section -->
      </div>
      <!-- End Collections Section -->

      <!-- Results Section-->
      <div class="tab-pane fade" id="resultados-tab" role="tabpanel" aria-labelledby="nav-resultados-tab">
        <!-- End Info Section -->
        <div class="row mt-4">
          <div class="col-lg-7 mb-lg-0 mb-4">
            <div class="card">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col-lg-6">
                    <div class="d-flex flex-column h-100">
                      <h5 class="font-weight-bolder">Geração de Resultados</h5>
                      <p>
                        Oferecemos um sistema otimizado de geração de resultados para as suas coleções de
                        jogos. Escolha o concurso e gere um relatório completo sobre o desempenho de seus
                        jogos.
                      </p>
                      <a class="text-body text-sm font-weight-bold mb-0 icon-move-right mt-auto" href="javascript:;">
                        Leia sobre
                        <i class="fas fa-arrow-right text-sm ms-1" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                  <div class="col-lg-5 ms-auto text-center mt-5 mt-lg-0">
                    <div class="border-radius-lg h-100">
                      <img src="{% static 'assets/img/shapes/waves-white.svg' %}"
                           class="position-absolute h-100 w-50 top-0 d-lg-block d-none" alt="waves">
                      <div class="position-relative d-flex align-items-center justify-content-center h-100">
                        <img class="w-100 position-relative z-index-2 pt-4"
                             src="{% static 'assets/img/results-info.svg' %}" alt="Gráfico de barras crescente">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-5">
            <div class="card h-100">
              <div class="overflow-hidden position-relative border-radius-lg h-100">
                <div class="card-body position-relative z-index-1 d-flex flex-column h-100 p-3">
                  <h5 class="font-weight-bolder">Praticidade</h5>
                  <p class="text-body">Configure como quer receber os resultados. As opções são:</p>
                  <ul>
                    <li>Email diário automatizado</li>
                    <li>Envio por WhatsApp automatizado</li>
                    <li>Baixar pelo nosso Bot de WhatsApp</li>
                  </ul>
                  <a class="text-body text-sm font-weight-bold mb-0 icon-move-right mt-auto" href="javascript:;">
                    Leia sobre
                    <i class="fas fa-arrow-right text-sm ms-1" aria-hidden="true"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Info Section -->

        <!-- Results Analysis Section -->
        <div class="row mt-4">
          <div class="col-lg-4">
            <div class="card z-index-2">
              <div class="card-body p-3">
                <h5 class="font-weight-bolder">Filtre sua busca por resultados</h5>
                <h6 class="font-weight-bolder">Modalidade</h6>
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                  {% for type in lototypes %}
                  <input type="radio" class="btn-check" name="lototype2" id="results-{{type.0}}" value="{{type.0}}"
                         autocomplete="off" required>
                  <label class="btn btn-outline-primary" for="results-{{type.0}}">{{type.1}}</label>
                  {% endfor %}
                </div>
                <div class="form-group">
                  <label for="collection-select" class="form-control-label"><h6 class="font-weight-bolder">
                    Coleção</h6></label>
                  <div class="input-group mb-3">
                    <select class="form-control" id="collection-select" aria-describedby="add-collection" required
                    name="collection-name">
                      <option>Jogos Bolão</option>
                      <option>Jogos 2</option>
                      <option>Teste</option>
                    </select>
                  </div>
                </div>
                <div class="form-group">
                  <label for="collection-select" class="form-control-label"><h6 class="font-weight-bolder">
                    Conjunto de Jogo</h6></label>
                  <div class="input-group mb-3">
                    <select class="form-control" id="gameset-select" aria-describedby="add-collection" required>
                      <option>Todos</option>
                      <option>Jogos1</option>
                      <option>Jogos2</option>
                    </select>
                  </div>
                </div>
                <div class="form-check form-switch">
                  <label class="form-check-label" for="status"><h6 class="font-weight-bolder">Ativo</h6>
                  </label>
                  <input class="form-check-input" type="checkbox" id="status" checked="">
                </div>
                <div class="form-group">
                  <label for="collection-select" class="form-control-label"><h6 class="font-weight-bolder">
                    Concurso</h6></label>
                  <div class="input-group mb-3">
                    <select class="form-control" id="draw-select" aria-describedby="add-collection" required
                    name="draw">
                      <option>2250</option>
                      <option>2249</option>
                      <option>2248</option>
                    </select>
                  </div>
                </div>
                <button type="submit" class="btn btn-primary">Gerar resultados</button>
              </div>
            </div>
          </div>
          <div class="col-lg-5">
            <div class="card z-index-2">
              <div class="card-header pb-0">
                <h5 class="font-weight-bolder">Análise do Resultado</h5>
                <p class="text-sm">
                  <i class="fa fa-arrow-up text-success"></i>
                  <span class="font-weight-bold">4% more</span> in 2021
                </p>
              </div>
              <div class="card-body p-3">
                <div class="chart">
                  <canvas id="chart-bars" class="chart-canvas" height="300"></canvas>
                </div>
              </div>
            </div>
            <div class="card z-index-2 mt-3">
              <div class="card-header pb-0">
                <h6>Sales overview</h6>
                <p class="text-sm">
                  <i class="fa fa-arrow-up text-success"></i>
                  <span class="font-weight-bold">4% more</span> in 2021
                </p>
              </div>
              <div class="card-body p-3">
                <div class="chart">
                  <canvas id="chart-line" class="chart-canvas" height="300"></canvas>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-3">
            <div class="card mb-2">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col">
                    <div class="numbers d-flex justify-content-between align-items-center">
                      <p class="text-sm mb-0 text-capitalize font-weight-bold">Concurso</p>
                      <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md"
                           style="width:40px; height:40px;">
                        <i class="ni ni-money-coins text-md opacity-10 text-center" aria-hidden="true"></i>
                      </div>
                    </div>
                    <h5 class="font-weight-bolder mb-0">
                      Nº 2050 de 17/10/2021
                    </h5>
                  </div>

                </div>
              </div>
            </div>
            <div class="card mb-2">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col">
                    <div class="numbers d-flex justify-content-between align-items-center">
                      <p class="text-sm mb-0 text-capitalize font-weight-bold">Números Sorteados</p>
                      <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md"
                           style="width:40px; height:40px;">
                        <i class="ni ni-money-coins text-md opacity-10" aria-hidden="true"></i>
                      </div>
                    </div>
                    <h5 class="font-weight-bolder mb-0">
                      2 - 5 - 7 - 8 - 10 - 12 - 13 - 14 - 17 - 18 - 20 - 22 - 23 - 24 - 25
                    </h5>
                  </div>
                </div>
              </div>
            </div>
            <div class="card mb-2">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col">
                    <div class="numbers d-flex justify-content-between align-items-center">
                      <p class="text-sm mb-0 text-capitalize font-weight-bold">Nº Jogos</p>

                      <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md"
                           style="width:40px; height:40px;">
                        <i class="ni ni-money-coins text-md opacity-10" aria-hidden="true"></i>
                      </div>
                    </div>
                  </div>
                  <h5 class="font-weight-bolder mb-0">
                    100
                  </h5>
                </div>
              </div>
            </div>
            <div class="card mb-2">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col">
                    <div class="numbers d-flex justify-content-between align-items-center">
                      <p class="text-sm mb-0 text-capitalize font-weight-bold">Custo</p>

                      <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md"
                           style="width:40px; height:40px;">
                        <i class="ni ni-world text-md opacity-10" aria-hidden="true"></i>
                      </div>
                    </div>
                  </div>
                  <h5 class="font-weight-bolder mb-0">
                    R$ 500,00
                  </h5>
                </div>
              </div>
            </div>
            <div class="card mb-2">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col">
                    <div class="numbers d-flex justify-content-between align-items-center">
                      <p class="text-sm mb-0 text-capitalize font-weight-bold">Premiação</p>

                      <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md"
                           style="width:40px; height:40px;">
                        <i class="ni ni-paper-diploma text-md opacity-10" aria-hidden="true"></i>
                      </div>
                    </div>
                  </div>
                  <h5 class="font-weight-bolder mb-0">
                    R$ 220,00
                  </h5>
                </div>
              </div>
            </div>
            <div class="card mb-2">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col">
                    <div class="numbers d-flex justify-content-between align-items-center">
                      <p class="text-sm mb-0 text-capitalize font-weight-bold">Saldo</p>
                      <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md"
                           style="width:40px; height:40px;">
                        <i class="ni ni-cart opacity-10" aria-hidden="true"></i>
                      </div>

                    </div>
                  </div>
                  <h5 class="font-weight-bolder mb-0">
                    R$ -280
                    <span class="text-danger text-sm font-weight-bolder">-5%</span>
                  </h5>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- End Results Analysis Section -->

        <!-- Results Table Section -->
        <div class="row my-4">
            <div class="col">
              <div class="card">
                <div class="card-header pb-0 d-flex flex-row justify-content-between align-items-center">
                  <div class="d-inline">
                    <h5 class="font-weight-bolder">Seus Resultados</h5>
                    <p class="text-sm">Clique em info para ver detalhes de cada conjunto e/ou jogo na coleção</p>
                  </div>
                </div>
                <div class="card-body px-2 pt-0 pb-2">
                  <div class="table-responsive p-0">
                    <table class="table align-items-center mb-0 display" id="collectionsTable">
                      <thead>
                      <tr>
                        <th class="text-uppercase text-secondary text-xxs font-weight-bolder">Loteria</th>
                        <th class="text-uppercase text-secondary text-xxs font-weight-bolder ps-2">Nome</th>
                        <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder">Nº
                          de
                          Conjuntos
                        </th>
                        <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder">Nº
                          de
                          Jogos
                        </th>
                        <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder">
                          Jogos
                          Premiados
                        </th>
                        <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder">
                          Ativo
                        </th>
                        <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder">Info
                        </th>
                      </tr>
                      </thead>
                      <tbody>
                      <tr>
                        <td>
                          <div class="d-flex px-2 py-1">
                            <img src="{% static 'assets/img/loterias/logos/lotofacil.png' %}" alt="Logo da Lotofácil"
                                 class="btn-tooltip text-info text-gradient" data-bs-toggle="tooltip"
                                 data-bs-placement="top"
                                 title="Logo da Lotofácil" data-container="body" data-animation="true">
                          </div>
                          <p hidden>Lotofacil</p>
                        </td>
                        <td>
                          <p class="text-xs font-weight-bold mb-0">Bolão Fim de Ano</p>
                        </td>
                        <td class="align-middle text-center text-sm">
                          <span class="badge badge-sm bg-gradient-primary">50</span>
                        </td>
                        <td class="align-middle text-center">
                          <span class="badge badge-sm bg-gradient-primary">50000</span>
                        </td>
                        <td class="align-middle text-center">
                          <span class="badge badge-sm bg-gradient-primary">4000</span>
                        </td>
                        <td class="align-middle text-center">
                          <span class="badge badge-sm bg-gradient-success">SIM</span>
                        </td>
                        <td class="align-middle text-center">
                          <a>
                            <span class="btn-inner--icon"><i class="fa fa-info-circle"
                                                             style="font-size:20px"></i></span>
                          </a>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <div class="d-flex px-2 py-1">
                            <img src="{% static 'assets/img/loterias/logos/megasena.png' %}" alt="Logo da Lotofácil"
                                 class="btn-tooltip text-info text-gradient" data-bs-toggle="tooltip"
                                 data-bs-placement="top"
                                 title="Logo da Lotofácil" data-container="body" data-animation="true">
                          </div>
                          <p hidden>Megasena</p>
                        </td>
                        <td>
                          <p class="text-xs font-weight-bold mb-0">Mega da Virada</p>
                        </td>
                        <td class="align-middle text-center text-sm">
                          <span class="badge badge-sm bg-gradient-primary">20</span>
                        </td>
                        <td class="align-middle text-center">
                          <span class="badge badge-sm bg-gradient-primary">4000</span>
                        </td>
                        <td class="align-middle text-center">
                          <span class="badge badge-sm bg-gradient-primary">1200</span>
                        </td>
                        <td class="align-middle text-center">
                          <span class="badge badge-sm bg-gradient-danger">NÃO</span>
                        </td>
                        <td class="align-middle text-center">
                          <a>
                            <span class="btn-inner--icon"><i class="fa fa-info-circle"
                                                             style="font-size:20px"></i></span>
                          </a>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <div class="d-flex px-2 py-1">
                            <img src="{% static 'assets/img/loterias/logos/diadesorte.png' %}" alt="Logo da Lotofácil"
                                 class="btn-tooltip text-info text-gradient" data-bs-toggle="tooltip"
                                 data-bs-placement="top"
                                 title="Logo da Lotofácil" data-container="body" data-animation="true">
                          </div>
                          <p hidden>Dia de Sorte</p>
                        </td>
                        <td>
                          <p class="text-xs font-weight-bold mb-0">Coleção 1</p>
                        </td>
                        <td class="align-middle text-center text-sm">
                          <span class="badge badge-sm bg-gradient-primary">5</span>
                        </td>
                        <td class="align-middle text-center">
                          <span class="badge badge-sm bg-gradient-primary">500</span>
                        </td>
                        <td class="align-middle text-center">
                          <span class="badge badge-sm bg-gradient-primary">120</span>
                        </td>
                        <td class="align-middle text-center">
                          <span class="badge badge-sm bg-gradient-success">SIM</span>
                        </td>
                        <td class="align-middle text-center">
                          <a>
                            <span class="btn-inner--icon"><i class="fa fa-info-circle"
                                                             style="font-size:20px"></i></span>
                          </a>
                        </td>
                      </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <!-- End Results Table Section -->
      </div>
      <!-- End Results Section -->
    </div>
  </div>
  <!-- End Content Section -->
</div>


{% endblock %}

{% block script %}
<script>
    var ctx = document.getElementById("chart-bars").getContext("2d");

    new Chart(ctx, {
      type: "bar",
      data: {
        labels: ["Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        datasets: [{
          label: "Sales",
          tension: 0.4,
          borderWidth: 0,
          borderRadius: 4,
          borderSkipped: false,
          backgroundColor: "#000",
          data: [450, 200, 100, 220, 500, 100, 400, 230, 500],
          maxBarThickness: 6
        }, ],
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false,
          }
        },
        interaction: {
          intersect: false,
          mode: 'index',
        },
        scales: {
          y: {
            grid: {
              drawBorder: false,
              display: false,
              drawOnChartArea: false,
              drawTicks: false,
            },
            ticks: {
              suggestedMin: 0,
              suggestedMax: 500,
              beginAtZero: true,
              padding: 15,
              font: {
                size: 14,
                family: "Open Sans",
                style: 'normal',
                lineHeight: 2
              },
              color: "#000"
            },
          },
          x: {
            grid: {
              drawBorder: false,
              display: false,
              drawOnChartArea: false,
              drawTicks: false
            },
            ticks: {
              display: false
            },
          },
        },
      },
    });


    var ctx2 = document.getElementById("chart-line").getContext("2d");

    var gradientStroke1 = ctx2.createLinearGradient(0, 230, 0, 50);

    gradientStroke1.addColorStop(1, 'rgba(203,12,159,0.2)');
    gradientStroke1.addColorStop(0.2, 'rgba(72,72,176,0.0)');
    gradientStroke1.addColorStop(0, 'rgba(203,12,159,0)'); //purple colors

    var gradientStroke2 = ctx2.createLinearGradient(0, 230, 0, 50);

    gradientStroke2.addColorStop(1, 'rgba(20,23,39,0.2)');
    gradientStroke2.addColorStop(0.2, 'rgba(72,72,176,0.0)');
    gradientStroke2.addColorStop(0, 'rgba(20,23,39,0)'); //purple colors

    new Chart(ctx2, {
      type: "line",
      data: {
        labels: ["Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        datasets: [{
            label: "Mobile apps",
            tension: 0.4,
            borderWidth: 0,
            pointRadius: 0,
            borderColor: "#cb0c9f",
            borderWidth: 3,
            backgroundColor: gradientStroke1,
            fill: true,
            data: [50, 40, 300, 220, 500, 250, 400, 230, 500],
            maxBarThickness: 6

          },
          {
            label: "Websites",
            tension: 0.4,
            borderWidth: 0,
            pointRadius: 0,
            borderColor: "#3A416F",
            borderWidth: 3,
            backgroundColor: gradientStroke2,
            fill: true,
            data: [30, 90, 40, 140, 290, 290, 340, 230, 400],
            maxBarThickness: 6
          },
        ],
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false,
          }
        },
        interaction: {
          intersect: false,
          mode: 'index',
        },
        scales: {
          y: {
            grid: {
              drawBorder: false,
              display: true,
              drawOnChartArea: true,
              drawTicks: false,
              borderDash: [5, 5]
            },
            ticks: {
              display: true,
              padding: 10,
              color: '#b2b9bf',
              font: {
                size: 11,
                family: "Open Sans",
                style: 'normal',
                lineHeight: 2
              },
            }
          },
          x: {
            grid: {
              drawBorder: false,
              display: false,
              drawOnChartArea: false,
              drawTicks: false,
              borderDash: [5, 5]
            },
            ticks: {
              display: true,
              color: '#b2b9bf',
              padding: 20,
              font: {
                size: 11,
                family: "Open Sans",
                style: 'normal',
                lineHeight: 2
              },
            }
          },
        },
      },
    });



    var win = navigator.platform.indexOf('Win') > -1;
    if (win && document.querySelector('#sidenav-scrollbar')) {
      var options = {
        damping: '0.5'
      }
      Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
    }



$(document).ready(function(){
    $("#menu").on('click', function(){
        $("#sidenav-main").fadeToggle(300)
    });
});




function mapNumbers(cellId, op){
    console.log(op)
    switch(op){
      case "removed":
        cellId = cellId.replace(op, 'fixed');
        console.log(cellId);
        $("#label-".concat(cellId)).toggleClass('disabled');
        break;

      case "fixed":
        cellId = cellId.replace(op, 'removed');
        console.log(cellId);
        $("#label-".concat(cellId)).toggleClass('disabled')
        break;
    }

}


function handleGeneratorSelect(radio){
  var nPlayedRadios = $("#check-played input[type=radio]")
  var np = nPlayedRadios.filter((index, element) => { return index != 0 })

  if(radio.id == "smart"){
    $("#smart-gen-options").show()
    np.map((index, element) => { $('#'.concat(element.id)).hide(); $('label[for='.concat(element.id, ']')).hide()})
  }
  else{
    $("#smart-gen-options").hide()
    np.map((index, element) => { $('#'.concat(element.id)).show(); $('label[for='.concat(element.id, ']')).show()})

  }
}

$(document).ready(function() {
    $('table.display').DataTable({
      language: {
            "lengthMenu": "Mostrar _MENU_ jogos por página",
            "zeroRecords": "",
            "info": "Página _PAGE_ de _PAGES_",
            "infoEmpty": "Nenhum jogo encontrado",
            "infoFiltered": "(Filtrados de _MAX_ jogos)",
            "paginate": {
              "previous": "←",
              "next": "→"
            },
            "searchPlaceholder": "Busque jogos por loteria, nome ou status",
            "search": "Filtrar"

        }
    });

    $('#collectionsTable_filter input[type="search"]').attr(
      'placeholder', "Busque por loteria, nome ou nº de jogos"
    )

    $('.dataTables_filter input[type="search"]').css(
     {'width':'300px','display':'inline-block'}
  );
} );

var lotoTypeInfo = new Object({
  lotofacil: {
    nPlayedList: Array.from(new Array(6), (x, i) => i+15),
    nPossiblesList: Array.from(new Array(25), (x, i) => i+1),
  },
  diadesorte: {
    nPlayedList: Array.from(new Array(9), (x, i) => i+7),
    nPossiblesList: Array.from(new Array(31), (x, i) => i+1),
  },
  megasena: {
    nPlayedList: Array.from(new Array(10), (x, i) => i+6),
    nPossiblesList: Array.from(new Array(60), (x, i) => i+1),
  }
})

function calcNumberOfCombinations(){
  let lototype = $("input[name='lototype']:checked")[0].value
  console.log(lototype)
  let nPlayedChosen = parseInt(document.forms['gerador-form']['nPlayed'].value)
  let nFixedChosen = Array.from($("input[name='nFixed']:checked"))
  console.log(nFixedChosen.length)
  let nRemovedChosen = Array.from($("input[name='nRemoved']:checked"))
  console.log(nRemovedChosen.length)
  let m = lotoTypeInfo[lototype].nPossiblesList.length - nFixedChosen.length - nRemovedChosen.length
  let n = nPlayedChosen - nFixedChosen.length
  return math.combinations(m, n)

}
$('#check-nPlayed').change(function(){
  $("input[name='nFixed']").map((ind,el) => {
  $("label[for='" + el.id + "']").removeClass('disabled');
  })

  $("input[name='nRemoved']").map((ind,el) => {
  $("label[for='" + el.id + "']").removeClass('disabled');
  })
  $('#check-nPlayed').off()
  $('#check-nPlayed').change(function(){
  //checkSumOfChecksLTnPlayed()
})
})

function checkSumOfChecksLTnPlayed(){
    let nFixedChosen = Array.from($("input[name='nFixed']:checked"))
    let nPlayedChosen = parseInt(document.forms['gerador-form']['nPlayed'].value)
    let nRemovedChosen = Array.from($("input[name='nRemoved']:checked"))
    let sum = nFixedChosen.length + nRemovedChosen.length
    console.log(sum)
    if (sum == nPlayedChosen){
    $("input[name='nFixed']").map((ind,el) => {
  $("label[for='" + el.id + "']").addClass('disabled');
  })
   $("input[name='nRemoved']").map((ind,el) => {
  $("label[for='" + el.id + "']").addClass('disabled');
  })
  }
  else{
    $("input[name='nFixed']").map((ind,el) => {
  $("label[for='" + el.id + "']").removeClass('disabled');
  })
   $("input[name='nRemoved']").map((ind,el) => {
  $("label[for='" + el.id + "']").removeClass('disabled');
  })
  }
}

function showSubmitBtn(){
  let nCombs = calcNumberOfCombinations()
  $("#calc-combs-btn").hide()
  $("#nJogos-input").show()
  $("#nCombs-span").text("O número de combinações possíveis é " + nCombs)
}
//$('#grid-fixed-removed').change(checkSumOfChecksLTnPlayed)
$('#calc-combs-btn').click(showSubmitBtn)



</script>
<script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.5.1/math.js"></script>
{% endblock %}



